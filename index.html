<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />

    <!--
    BeaqleJS - HTML5 and JavaScript framework for listening tests, <https://github.com/HSU-ANT/beaqlejs>

    This file and all corresponding parts of BeaqleJS are published under the GPLv3 license, <http://www.gnu.org/licenses/>    
    -->


    <title>BeaqleJS</title>
    
    <!-- load the test config file -->
        <script src="config/example_config_abx.js" type="text/javascript"></script>
    <!---->
    
    <link type="text/css" href="css/smoothness/jquery-ui-1.8.18.custom.css" rel="Stylesheet" />
    <link type="text/css" href="css/styles.css" rel="Stylesheet" />

    <script src="js/jquery.js" type="text/javascript"></script>
    <script src="js/jquery-ui.custom.min.js" type="text/javascript" ></script>
    <script src="js/beaqle.js" type="text/javascript"></script>


    <script type="text/javascript">
    /* <![CDATA[ */
        var testHandle;
        window.onload=function() {

            // Uncomment one of the following lines to choose the desired test class

            // testHandle = new MushraTest(TestConfig);    // <-- MUSHRA test class
            testHandle = new AbxTest(TestConfig);     // <-- ABX test class

            $('#Footer').prepend(testHandle.browserFeatureString() + '<br/>');
        };
    /* ]]> */
    </script>
   
</head>

<body>

<div id="Wrapper">

    <div id="TestTitle" class="commonBox">
        <!-- overall title at the top 
             DO NOT EDIT! This box is automatically filled with content!
        -->
        Loading...
    </div>
    
    <!-- is displayed during load -->
    <div id="LoadOverlay" class="commonBox">
        <img src="img/ajax-loader.gif"/> &nbsp;&nbsp;&nbsp; Loading...
    </div>

    <!-- introduction before the test starts -->
    <div id="TestIntroduction" class="commonBox">
        
        <!-- edit here if you want to change the welcome message  and instructions -->

        <div style="text-align:left">
            首先非常感谢您参加这个主观听感实验。整个实验大约持续15分钟。我们希望通过这个实验来评估一个声源分离的算法。这个方法可以将歌唱声从混缩的音频中分离出来。你将会听到一些音乐和清唱的素材。你需要在A和B两个素材之间选择偏好的那一个。评价的指标有三个（1）分离的质量（分离后的清唱应该包含尽量少的背景音乐），音质（清唱声的质量），清唱的可懂性。每个测试的指标显示在页面的上方。

            <br />
            <br />
            
            说明：

            <ul>
                <li>
                页面的标题显示此页面所需的评价指标
                </li>
                <li>
                “分离”评价指标表示分离的清唱音频应该尽量不包括伴奏。除了需要选择的A, B音频外，被试还需要听两个参考声音。“Mixture”是清唱和伴奏混缩后的声音，“Reference”是纯的清唱声。被试应该选择跟“Reference”跟接近，尽量不包含“Mixture”中的背景音乐。
                </li>
                <li>
                可懂性是指被试对清唱歌词的理解程度。
                 </li>
                <li>
                音质指的是清唱声的质量。请对比“Reference”音频，选择A，B中最自然的一个。
                </li>

            </ul>
        </div>
        <br />
        <br />
                        
        <!-- this button starts the first test -->
        <button id="BtnStartTest" onclick="testHandle.startTests();">Start!</button>	
    </div>

    <!-- final text after all tests have passed -->
    <div id="TestEnd" class="commonBox">

        <!-- edit here if you want to change the thank you message -->
        Thank you very much!
        <br />
        <br />
        
        <!-- show some informations before submitting the results -->
        <div id="SubmitBox">
            <div id="SubmitError" class="error">
                We are sorry, but the following error occured during your submission:
                <p id="ErrorCode"></p>
            </div>
            <p class="submitOnline">
                <!-- edit here if you want to change the information about online submission, e.g. add privacy policy information -->
                请往我们的服务器中提交结果。虽然不是必须输入姓名和email地址，但是能帮助我们在碰见问题的时候联系你。你也可以留言。
            </p>
            <p class="submitDownload">
                <!-- edit here if you want to change the information about online submission, e.g. add privacy policy information -->
                请下载并保存结果。虽然不是必须输入姓名和email地址，但是能帮助我们在碰见问题的时候联系你。你也可以留言
            </p>
            <table border=0 style="margin-left: auto;margin-right: auto;">
            <tr><td>Age:</td><td><input id="Age" type="text" size="2" maxlength="2" /></td></tr>
            <tr><td>Gender(M/F):</td><td><input id="Gender" type="text" size="1" maxlength="1" /></td></tr>
            <tr><td>Musically Trained (Yes/No):</td><td><input id="Musical_Training" type="text" size="3" maxlength="3" /></td></tr>
            <tr><td>Native Language:</td><td><input id="Gender" type="Language" size="40" maxlength="40" /></td></tr>
            <tr><td></td><td><textarea id="UserComment" cols="40" rows="4">Any other comments...</textarea></td></tr>
            </table>
            <br />
            <button id="BtnSubmitData" class="submitOnline" onclick="testHandle.SubmitTestResults();">Submit</button>
            <button id="BtnDownloadData" class="submitDownload" onclick="testHandle.DownloadTestResults();">Download</button>
            <p class="submitEmail error">
                <!-- edit here if you want to change the information about email submission, e.g. add privacy policy information -->
                Results should be send to <span class="supervisorEmail"></span>
            </p>
        </div>
        
        <!-- the test results are displayed in this box -->
        <div id="ResultsBox">
        </div>
    </div>

    <div id="TableContainer" class="commonBox">
        <!-- container for the test items and sliders 
             DO NOT EDIT! This box is automatically filled with content!
        -->    

        <!-- heading for the single test -->
        <div id="TestHeading">
        </div>
    
    </div>

    <!-- controls to go to next/previous test -->
    <div id="TestControls" class="commonBox">
        <button id="BtnNextTest">Next Test</>
        <button id="BtnPrevTest">Previous Test</>
    </div>

    <!-- playback control -->
    <div id="PlayerControls" class="commonBox">

        <div id="duration">
            <span>00:00</span>
        </div>
        
        <div id="TimeLine">
            <div id="ProgressBar"></div>
            <div id="ABRange"></div>
        </div>
        
        <div>
            <input id="ChkLoopAudio" type="checkbox" value="Loop" /><label for="ChkLoopAudio">Loop</label>
            <input id="ChkAutoReturn" type="checkbox" value="Auto Return" /><label for="ChkAutoReturn">Auto Return</label>
        </div>
        
        <div id="Volume">
            Volume
            <div id="VolumeSlider"></div>
        </div>
        
        <br style="clear:both"/>
    
    </div>

    <!-- Footer -->
    <div id="Footer">
        This listening test has been created with <a href="https://github.com/HSU-ANT/beaqlejs" target="_blank">BeaqleJS</a> <a href="https://github.com/HSU-ANT/beaqlejs/tree/v0.3" target="_blank">v0.3</a>.
    </div>
</div>

</body>

</html>
